## spacesavers2_grubbers

This takes in the `.files.gz` generated by `spacesavers2_mimeo` and processes it to:

- sort duplicates by total size
- reports the "high-value" duplicates.

Deleting these high-value duplicates first will have the biggest impact on the users overall digital footprint

### Inputs

- `--filesgz` output file from `spacesavers2_mimeo`.
- `--limit` lower cut-off for output display (default 5 GiB). This means that duplicates with overall size of less than 5 GiB will not be displayed.

```bash
% spacesavers2_grubbers --help
spacesavers2_grubbers:00000.01s:version: v0.5
usage: spacesavers2_grubbers [-h] -f FILESGZ [-l LIMIT]

spacesavers2_grubbers: get list of large duplicates sorted by total size

options:
  -h, --help            show this help message and exit
  -f FILESGZ, --filesgz FILESGZ
                        spacesavers2_mimeo prefix.<user>.files.gz file
  -l LIMIT, --limit LIMIT
                        stop showing duplicates with total size smaller then (5 default) GiB

Version:
    v0.5
Example:
    > spacesavers2_grubbers -f /output/from/spacesavers2_mimeo/prefix.files.gz
```

### Outputs

The output is displayed on STDOUT and is tab-delimited with these columns:

| Column | Description                           |
| ------ | ------------------------------------- |
| 1      | combined hash                         |
| 2      | number of duplicates found            |
| 3      | total size of all duplicates          |
| 4      | size of each duplicate                |
| 5      | "##"-separated list of duplicates     |
| 6      | duplicate files                       |

Here is an example output line:

```bash
ca269c980de3f0d8e6668b88d9065c8f#5003f92f52d71437741e4e79c4339a66       3       21.99 GiB       7.33 GiB        "/data/CCBR/ccbr754_Yoshimi/ccbr754/workdir_170403_postinitialrnas
eq2/0h_1_S25.p2.Aligned.toTranscriptome.sorted.bam";"/data/CCBR/ccbr754_Yoshimi/ccbr754targz/data/CCBR/projects/ccbr754/workdir_170403_postinitialrnaseq2/0h_1_S25.p2.Aligned.toTr
anscriptome.sorted.bam";"/data/CCBR/ccbr754_Yoshimi/ccbr754targz/data/CCBR/projects/ccbr754/workdir_170403_postinitialrnaseq2/0h_1_S25.p2.Aligned.toTranscriptome.sorted.sorted.ba
m"
```

> `spacesavers2_grubbers` is typical used to find the "low-hanging" fruits ... aka ... the "high-value" duplicates which need to be deleted first to quickly have the biggest impact on the users overall digital footprint.